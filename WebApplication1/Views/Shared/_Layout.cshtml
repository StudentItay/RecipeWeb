<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WebApplication1</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/WebApplication1.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/Minty.css" />



    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js-bootstrap-css/1.2.1/typeaheadjs.min.css">

</head>
<body>
 <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="NavbarDiv">
            <div class="container-fluid">
                <a class="navbar-brand" id="navbarTitel" asp-area="" asp-controller="RecipeWeb" asp-action="HomePage">
                    <img src="~/images/img/recipewed246.png" alt="אוכל מהיר" id="navbarLogo" class="d-inline-block align-text-top" />
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarColor02">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <!-- הוספת פריטים ל-Navbar כאן אם יש צורך -->
                    </ul>
                    <form class="d-flex flex-grow-1" style="max-width: 80%;">
                        <input id="inputDefault" class="form-control me-2" type="search" placeholder="חיפוש מתכונים לפי שם" aria-label="Search">
                        <button id="BtnForm" class="btn btn-warning" type="submit">חיפוש</button>
                    </form>
                    <partial name="_LoginPartial" />
                </div>
            </div>
        </nav>
    </header>

	@* <header>
        <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark" id="NavbarDiv">
            <div class="container-fluid">
				@*  <a class="navbar-brand" id="navbarTitel" asp-area="" asp-controller="RecipeWeb" asp-action="HomePage">אוכל מהיר</a>
            <a class="navbar-brand" id="navbarTitel" asp-area="" asp-controller="RecipeWeb" asp-action="HomePage">
                    <img src="~/images/img/recipewed246.png" alt="אוכל מהיר" id="navbarLogo" />
				</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02" aria-controls="navbarColor02"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div id="DivForm" class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <form class="search-form" style="position: relative; width: 100%;">
                        <div class="custom-border-container">
                            <input id="inputDefault" class="form-control me-sm-2" type="text" placeholder="חיפוש מתכונים לפי שם">
                        </div>
                        <button id="BtnForm" class="btn btn-warning my-2 my-sm-0" type="submit">חיפוש</button>
                    </form>
                </div>
                
                <partial name="_LoginPartial" />

            </div>
        </nav>
	</header>*@
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div id="DivFoot">
            <div class="row">
                <!-- חלק ראשון: אייקונים של רשתות חברתיות -->
                <div class="col-md-3">
                    <h5>רשתות חברתיות</h5>
                    <ul class="list-unstyled social-icons">
                        <li style="margin-top:-15%;"><a href="https://www.facebook.com/yourpage" target="_blank"><img src="~/icons/iconSM/facebook_174848.png" alt="Facebook icon"></a> </li>
                        <li style="margin-top:-15%;"><a href="https://www.instagram.com/yourprofile" target="_blank"><img src="~/icons/iconSM/instagram_2111463.png" alt="Instagram icon"></a> </li>
                        <li style="margin-top:-15%;"><a href="https://www.twitter.com/yourprofile" target="_blank"><img src="~/icons/iconSM/twitter_5968830.png" alt="Twitter icon"></a> </li>
                    </ul>
                </div>

                <!-- חלק שני: מדריכים -->
                <div class="col-md-3">
                    <h5>מדריכים</h5>
                    <ul class="list-unstyled">
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="MeatGuide">מדריך בשר</a></li>
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="FoodPreservationGuide">שימור מזון</a></li>
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="FreezingFoodGuide">הקפאת מזון</a></li>
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="SpicesGuide">תבלינים</a></li>
                    </ul>
                </div>


                <!-- חלק שלישי: מתכונים פופולריים -->
                <div class="col-md-3">
                    <h5>מתכונים פופולריים</h5>
                    <ul class="list-unstyled" id="popular-recipes-list">
                        <!-- המתכונים הפופולריים יטענו כאן דינמית -->
                    </ul>
                </div>

                <!-- חלק רביעי: שימושי -->
                <div class="col-md-3">
                    <h5>שימושי</h5>
                    <ul class="list-unstyled">
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="Conversion">המרת מידות</a></li>
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="BMIcalculator">מחשבון BMI</a></li>
                        <li><a asp-area="" asp-controller="RecipeWeb" asp-action="Calories">מחשבון קלוריות</a></li>
                    </ul>
                </div>

            </div>
            <div class="row">
                <div id="footPrivce" class="col-12 text-center">
                    &copy; 2024 - אוכל מהיר - <a asp-area="" asp-controller="Home" asp-action="Privacy" class="footPrivce">Privacy</a>
                </div>
            </div>
        </div>
    </footer>

 
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typeahead.js@0.11.1/dist/typeahead.bundle.min.js"></script>

    <script src="~/js/site.js" asp-append-version="true"></script>
   
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>


<script>
    $(document).ready(function () {
        var recipes = new Bloodhound({
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('RecipeName'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            remote: {
                url: '/api/autocomplete?query=%QUERY',
                wildcard: '%QUERY',
                transform: function (response) {
                    console.log("Response from server:", response);
                    // החזרת התשובה בצורת מערך מתאים
                    return $.map(response, function (recipe) {
                        return {
                            RecipeName: recipe.recipeName,
                            RecipeID: recipe.recipeID
                        };
                    });
                }
            }
        });

        $('#inputDefault').typeahead({
            hint: true,
            highlight: true,
            minLength: 1
        },
            {
                name: 'recipes',
                display: 'RecipeName',
                source: recipes,
                templates: {
                    suggestion: function (recipe) {
                        console.log("Suggestion data:", recipe);
                        return '<div>' + recipe.RecipeName + '</div>';
                    }
                }
            });

        $('#inputDefault').bind('typeahead:select', function (ev, suggestion) {
            console.log('Typeahead Selected Event:', ev);
            console.log('Selected RecipeName:', suggestion.recipeName);
            console.log('Selected ID:', suggestion.recipeID);
            window.location.href = '/recipe/' + suggestion.RecipeID;
        });
    });



    $(document).ready(function () {
        // קבלת המתכונים הפופולריים ביותר והצגתם
        $.getJSON('/api/popularRecipes', function (data) {
            var popularRecipesHtml = data.map(function (recipe) {
                return `<li><a href="/recipe/${recipe.recipeID}">${recipe.recipeName}</a></li>`;
            }).join('');
            $('#popular-recipes-list').html(popularRecipesHtml);
        });
    });
</script>


    <style>
   
    #NavbarDiv{
        background-image: url('/images/background/backgroundnavbar.jpg');
        background-size:cover;
    }
    #navbarTitel {
        font-family: "Amatic SC", sans-serif;
        font-weight: 700;
        font-style: normal;
        font-size: xx-large;
	

    }

    #navbarLogo {
        height: 100px; /* שינוי הגודל לפי הצורך */
        width: auto; /* שומר על יחס הגובה-רוחב */
    }
    .search-form {
        display: flex;
       /*
		   align-items: center;
			transform: translateY(37px);
       */ 
    }

    #BtnForm{
        margin-right: 2%;
    }

 

    .DivFoot{

    }
    .footer {
        padding: 20px 0;
        background-color: #f8f9fa;
        color: #6c757d;
        direction: rtl;
        line-height: 150% !important ;
        text-align: center;
        background-color: rgba(248, 249, 250, 0.5);
    }

        .footer h5 {
            font-family: "Amatic SC", sans-serif;
            font-weight: 900;
            font-size: xx-large;
            color: #343a40;
        }

        .footer ul {
            list-style-type: none;
            padding: 0;
        }

            .footer ul li {
                margin-bottom: 10px;
            }

                .footer ul li a {
                    color: black;
                    text-decoration: none;
                    font-family: "Amatic SC", sans-serif;
                    font-weight:bold;
                }
                #footPrivce{
                font-family: "Amatic SC", sans-serif;
                color: black;
        font-weight: bold;
                }



                    .footer ul li a:hover {
                        color: #343a40;
                        text-decoration: underline;
                    }

        .footer .text-center {
            margin-top: 20px;
        }

            .footer .text-center a {
                color: black;
                margin: 0 5px;
                text-decoration: none;
                
            }

                .footer .text-center a:hover {
                    color: #343a40;
                }

        .footer .list-unstyled img  {
            width: 50px;
            height: 50px;
            margin-right: 19px;
            margin-top: 150%;
        }



    ul li {
        font-family: "Amatic SC", sans-serif;
        font-size:x-large;
    }

    .social-icons {
        display: flex;
        justify-content: center; 
        padding: 0;
        list-style-type: none;
    }

        .social-icons li {
            margin-right: 10px; 
        }

            .social-icons li a img {
                width: 24px;
                height: 24px;
            }

        /* הסתרת הפוטר במסכים קטנים */
@@media (max-width: 768px) {
    .footer {
        display: none;
    }
}

    #DivForm {
        margin-right: 30%;
    }
    /* סגנון עבור ה-div */
    #DivForm {
        padding: 10px;
		/*background-color: #f8f9fa;  רקע בהיר */
        border-radius: 5px; 
        align-items: center;
    }

    /* סגנון עבור ה-container של המסגרת המותאמת */
    .custom-border-container {
        position: relative;
        width: 100%;
        max-width: 400px; 
        height: 60px; 
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 20px; 
		
    }

        .custom-border-container::before,
        .custom-border-container::after {
            content: "";
            position: absolute;
            border: 2px solid black;
            width: calc(100% - 20px); 
            height: calc(100% - 20px); 
        }

        .custom-border-container::before {
            top: 0;
            left: 0;
            border-width: 2px 0 0 2px; /* קווים למעלה ולשמאל */
        }

        .custom-border-container::after {
            bottom: 0;
            right: 0;
            border-width: 0 2px 2px 0; /* קווים למטה ולימין */
        }

    /* סגנון עבור שדה החיפוש */
    #inputDefault {
        border: none; 
        background: radial-gradient(black,black, transparent);
        font-family: "Amatic SC", sans-serif;
        width: 90%; 
        padding: 8px; 
        box-sizing: border-box; 
        position: relative; 
        text-align: center; 
        z-index: 1; 
        font-size: x-large;
        font-weight:bold;
    }

	

    /* סגנון עבור כפתור החיפוש */
    #BtnForm {
        font-family: "Amatic SC", sans-serif;
        background-color: #e78543; 
        border: none; 
        border-radius: 20px; 
        padding: 10px 20px; 
        color: black; 
        font-weight: bold; 
        transition: background-color 0.3s ease; 
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
        margin-top: 3px;
        font-size:large;
    }

        /* סגנון עבור כפתור החיפוש כאשר העכבר מעל */
        #BtnForm:hover {
            background-color: #e0a800; 
        }


 

    </style>